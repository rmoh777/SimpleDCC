name = "simple-docketcc"
main = ".svelte-kit/cloudflare/_worker.js"
compatibility_date = "2024-03-08"

# CRITICAL FIX: Enable Node.js compatibility for dotenv, node-fetch, etc.
compatibility_flags = [ "nodejs_compat" ]

[build]
command = "npm run build"
watch_dir = "src"

[site]
bucket = ".svelte-kit/cloudflare"

# Development environment variables
[vars]
ECFS_API_KEY = "7DMIhVNAxnGY64lDwhNxpFVrgFLfc4pUUWXn5lzW"

[[d1_databases]]
binding = "DB"
database_name = "simple-docketcc-db"
database_id = "e5bfcb56-11ad-4288-a74c-3749f2ddfd1b"

[env.production]
[[env.production.d1_databases]]
binding = "DB"
database_name = "simple-docketcc-db"
database_id = "e5bfcb56-11ad-4288-a74c-3749f2ddfd1b" 